parsers: # array
  - reg: 'rule$'
    yaml:
      append-proxy-groups:
        - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
          type: select
        - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
          type: url-test
          url: http://www.gstatic.com/generate_204
          interval: 300
          tolerance: 50
        - name: ğŸš€ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è‡ªåŠ¨é€‰æ‹©
          type: url-test
          url: http://www.gstatic.com/generate_204
          interval: 600
          tolerance: 50
        - name: ğŸš€ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è‡ªåŠ¨é€‰æ‹©
          type: url-test
          url: http://www.gstatic.com/generate_204
          interval: 600
          tolerance: 50
        - name: ğŸš€ ğŸ‡ºğŸ‡¸ç¾å›½-è‡ªåŠ¨é€‰æ‹©
          type: url-test
          url: http://www.gstatic.com/generate_204
          interval: 600
          tolerance: 50
        - name: ğŸ¯ å…¨çƒç›´è¿
          type: select
        - name: ğŸ›‘ å…¨çƒæ‹¦æˆª
          type: select
        - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
          type: select
        - name: âš–ï¸ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è´Ÿè½½å‡è¡¡-æ•£åˆ—
          type: load-balance
          url: http://www.google.com/generate_204
          interval: 600
          strategy: consistent-hashing
        # - name: âš–ï¸ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è´Ÿè½½å‡è¡¡-è½®è¯¢
        #   type: load-balance
        #   url: http://www.google.com/generate_204
        #   interval: 600
        #   strategy: round-robin
        - name: âš–ï¸ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è´Ÿè½½å‡è¡¡-æ•£åˆ—
          type: load-balance
          url: http://www.google.com/generate_204
          interval: 600
          strategy: consistent-hashing
        # - name: âš–ï¸ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è´Ÿè½½å‡è¡¡-è½®è¯¢
        #   type: load-balance
        #   url: http://www.google.com/generate_204
        #   interval: 600
        #   strategy: round-robin
        - name: âš–ï¸ ğŸ‡ºğŸ‡¸ç¾å›½-è´Ÿè½½å‡è¡¡-æ•£åˆ—
          type: load-balance
          url: http://www.google.com/generate_204
          interval: 600
          strategy: consistent-hashing
        # - name: âš–ï¸ ğŸ‡ºğŸ‡¸ç¾å›½-è´Ÿè½½å‡è¡¡-è½®è¯¢
        #   type: load-balance
        #   url: http://www.google.com/generate_204
        #   interval: 600
        #   strategy: round-robin
      commands:
        - proxy-groups.ğŸŸ æ¼ç½‘ä¹‹é±¼.proxies.0+â™»ï¸ è‡ªåŠ¨é€‰æ‹©
        - proxy-groups.ğŸŸ æ¼ç½‘ä¹‹é±¼.proxies.0+ğŸš€ èŠ‚ç‚¹é€‰æ‹©
        - proxy-groups.ğŸ›‘ å…¨çƒæ‹¦æˆª.proxies.0+DIRECT
        - proxy-groups.ğŸ›‘ å…¨çƒæ‹¦æˆª.proxies.0+REJECT
        - proxy-groups.ğŸ¯ å…¨çƒç›´è¿.proxies.0+â™»ï¸ è‡ªåŠ¨é€‰æ‹©
        - proxy-groups.ğŸ¯ å…¨çƒç›´è¿.proxies.0+ğŸš€ èŠ‚ç‚¹é€‰æ‹©
        - proxy-groups.ğŸš€ èŠ‚ç‚¹é€‰æ‹©.proxies=[]proxyNames|(.*)
        - proxy-groups.ğŸš€ ğŸ‡ºğŸ‡¸ç¾å›½-è‡ªåŠ¨é€‰æ‹©.proxies=[]proxyNames|(ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ğŸ‡¨ğŸ‡¦)
        - proxy-groups.0.proxies.0+ğŸš€ ğŸ‡ºğŸ‡¸ç¾å›½-è‡ªåŠ¨é€‰æ‹©
        - proxy-groups.âš–ï¸ ğŸ‡ºğŸ‡¸ç¾å›½-è´Ÿè½½å‡è¡¡-æ•£åˆ—.proxies=[]proxyNames|(ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ğŸ‡¨ğŸ‡¦)
        - proxy-groups.0.proxies.0+âš–ï¸ ğŸ‡ºğŸ‡¸ç¾å›½-è´Ÿè½½å‡è¡¡-æ•£åˆ—
        # - proxy-groups.âš–ï¸ ğŸ‡ºğŸ‡¸ç¾å›½-è´Ÿè½½å‡è¡¡-è½®è¯¢.proxies=[]proxyNames|(ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ğŸ‡¨ğŸ‡¦)
        # - proxy-groups.0.proxies.0+âš–ï¸ ğŸ‡ºğŸ‡¸ç¾å›½-è´Ÿè½½å‡è¡¡-è½®è¯¢
        - proxy-groups.ğŸš€ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è‡ªåŠ¨é€‰æ‹©.proxies=[]proxyNames|(ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·)
        - proxy-groups.0.proxies.0+ğŸš€ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è‡ªåŠ¨é€‰æ‹©
        - proxy-groups.âš–ï¸ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è´Ÿè½½å‡è¡¡-æ•£åˆ—.proxies=[]proxyNames|(ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·)
        - proxy-groups.0.proxies.0+âš–ï¸ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è´Ÿè½½å‡è¡¡-æ•£åˆ—
        # - proxy-groups.âš–ï¸ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è´Ÿè½½å‡è¡¡-è½®è¯¢.proxies=[]proxyNames|(ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·)
        # - proxy-groups.0.proxies.0+âš–ï¸ ğŸ‡¸ğŸ‡¬ğŸ‡¯ğŸ‡µğŸ‡°ğŸ‡·æ–°æ—¥éŸ©-è´Ÿè½½å‡è¡¡-è½®è¯¢
        - proxy-groups.ğŸš€ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è‡ªåŠ¨é€‰æ‹©.proxies=[]proxyNames|(ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|ğŸ‡­ğŸ‡°)
        - proxy-groups.0.proxies.0+ğŸš€ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è‡ªåŠ¨é€‰æ‹©
        - proxy-groups.âš–ï¸ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è´Ÿè½½å‡è¡¡-æ•£åˆ—.proxies=[]proxyNames|(ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|ğŸ‡­ğŸ‡°)
        - proxy-groups.0.proxies.0+âš–ï¸ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è´Ÿè½½å‡è¡¡-æ•£åˆ—
        # - proxy-groups.âš–ï¸ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è´Ÿè½½å‡è¡¡-è½®è¯¢.proxies=[]proxyNames|(ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|ğŸ‡­ğŸ‡°)
        # - proxy-groups.0.proxies.0+âš–ï¸ ğŸ‡¨ğŸ‡³æ¸¯æ¾³å°-è´Ÿè½½å‡è¡¡-è½®è¯¢
        - proxy-groups.â™»ï¸ è‡ªåŠ¨é€‰æ‹©.proxies=[]proxyNames
        - proxy-groups.0.proxies.0+â™»ï¸ è‡ªåŠ¨é€‰æ‹©
        - proxy-groups.0.proxies.0+DIRECT
      mix-rule-providers:
        reject:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
          path: ./ruleset/reject.yaml
          interval: 86400
        icloud:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
          path: ./ruleset/icloud.yaml
          interval: 86400
          
        apple:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
          path: ./ruleset/apple.yaml
          interval: 86400
        google:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
          path: ./ruleset/google.yaml
          interval: 86400
        proxy:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
          path: ./ruleset/proxy.yaml
          interval: 86400
        direct:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
          path: ./ruleset/direct.yaml
          interval: 86400
        private:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
          path: ./ruleset/private.yaml
          interval: 86400
        gfw:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
          path: ./ruleset/gfw.yaml
          interval: 86400
        greatfire:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
          path: ./ruleset/greatfire.yaml
          interval: 86400
        tld-not-cn:
          type: http
          behavior: domain
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
          path: ./ruleset/tld-not-cn.yaml
          interval: 86400
        telegramcidr:
          type: http
          behavior: ipcidr
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
          path: ./ruleset/telegramcidr.yaml
          interval: 86400
        cncidr:
          type: http
          behavior: ipcidr
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
          path: ./ruleset/cncidr.yaml
          interval: 86400
        lancidr:
          type: http
          behavior: ipcidr
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
          path: ./ruleset/lancidr.yaml
          interval: 86400
        applications:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
          path: ./ruleset/applications.yaml
          interval: 86400
      prepend-rules:
        - RULE-SET,applications,DIRECT,no-resolve # éœ€è¦ç›´è¿çš„å¸¸è§è½¯ä»¶åˆ—è¡¨ applications
        - DOMAIN,clash.razord.top,DIRECT,no-resolve
        - DOMAIN,yacd.haishan.me,DIRECT,no-resolve
        - RULE-SET,private,DIRECT,no-resolve # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨ private
        - RULE-SET,reject,REJECT # å¹¿å‘ŠåŸŸååˆ—è¡¨ reject
        - RULE-SET,icloud,ğŸš€ èŠ‚ç‚¹é€‰æ‹© # iCloud åŸŸååˆ—è¡¨ icloud
        - RULE-SET,apple,ğŸš€ èŠ‚ç‚¹é€‰æ‹© # Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨ apple
        - RULE-SET,google,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
        - RULE-SET,proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
        - RULE-SET,direct,DIRECT,no-resolve # ç›´è¿åŸŸååˆ—è¡¨ direct
        - RULE-SET,lancidr,DIRECT,no-resolve # å±€åŸŸç½‘ IP åŠä¿ç•™ IP åœ°å€åˆ—è¡¨ lancidr.txt
        - RULE-SET,cncidr,DIRECT,no-resolve # ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨ cncidr
        - RULE-SET,telegramcidr,ğŸš€ èŠ‚ç‚¹é€‰æ‹© # ä»£ç†åŸŸååˆ—è¡¨ proxy
        - GEOIP,LAN,DIRECT,no-resolve
        - GEOIP,CN,DIRECT,no-resolve
        - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©      
