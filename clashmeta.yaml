mixed-port: 7890
allow-lan: true
mode: Rule
log-level: info
ipv6: true
external-controller: 127.0.0.1:9090
secret: ""
hosts:
  localhost: 127.0.0.1
dns:
  enabled: true
  ipv6: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.lan'
    - "*.test"
    - "*.home.arpa"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - 'time.*.com'
    - 'ntp.*.com'
    - '+.local'
    - '+.market.xiaomi.com'
    - '+.msftconnecttest.com'
    - 'router.asus.com'
    - 'localhost.sec.qq.com'
    - 'localhost.ptlogin2.qq.com'
    - 'xbox.*.microsoft.com'
  use-hosts: true
  nameserver: #é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨
    - system
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query
    - https://doh.pub/dns-query
    # - https://doh.360.cn
    # - https://dns.alidns.com/dns-query
    # - https://doh.pub/dns-query
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
  # fallback: #ä¸ä¼šè¢«æ±¡æŸ“çš„DNSæœåŠ¡å™¨ï¼Œé»˜è®¤DNSè¿”å›çš„ipä¸æ˜¯å›½å†…çš„ä¼šä½¿ç”¨fallbackä¸­çš„è¿›è¡ŒDNSè§£æ
  #   - 8.8.8.8
  #   - 1.1.1.1
  #   - tls://8.8.8.8:853
  #   - tls://8.8.4.4:853
  #   - https://1.1.1.1/dns-query
  #   - https://1.0.0.1/dns-query
  # fallback-filter:
  #   geoip: true
  #   ipcidr:
  #     - 240.0.0.0/4
  #     - 0.0.0.0/32
  #   domain:
  #     - '+.google.com'
  #     - '+.facebook.com'
  #     - '+.youtube.com'
  #     - '+.instagram.com'    
  #     - '+.twitter.com'
  #     - '+.chatgpt.com'
cfw-latency-timeout: 3000
cfw-latency-url: http://www.gstatic.com/generate_204
cfw-conn-break-strategy:
  proxy: none # none/chain/all
  profile: true # true/false
  mode: false # true/false
cfw-proxies-order: default
proxy-providers:
  æˆ‘çš„è®¢é˜…:
    # type: file
    # path: "D:/GoldBridge/clash/clash-main/clashmetatest.yaml"
    type: http
    path: ./profiles/proxies/clashmeta.yaml
    url: "https://github.com/Heart-Stealer/myclash/raw/main/clashmetatest.yaml"
    # url: "https://gh-proxy.com/https://github.com/Heart-Stealer/myclash/raw/main/clashmetatest.yaml"
    # filter: 'buzhidao' # æ ¹æ®å…³é”®è¯è¿”å›èŠ‚ç‚¹
    # è‡ªåŠ¨æ›´æ–°è®¢é˜…æ—¶é—´ï¼Œå•ä½ä¸ºç§’,èŠ‚ç‚¹è¿é€šæ€§æ£€æµ‹æ—¶é—´ï¼Œå•ä½ä¸ºç§’
    interval: 43200
    # # èŠ‚ç‚¹è¶…æ—¶å»¶è¿Ÿï¼Œå•ä½ä¸ºæ¯«ç§’
    # timeout: 3000
    # # èŠ‚ç‚¹è‡ªåŠ¨åˆ‡æ¢å·®å€¼ï¼Œå•ä½ä¸ºæ¯«ç§’
    # tolerance: 500
    health-check:
      enable: true
      # url: https://cp.cloudflare.com
      url: http://www.gstatic.com/generate_204
      # èŠ‚ç‚¹è¿é€šæ€§æ£€æµ‹æ—¶é—´ï¼Œå•ä½ä¸ºç§’
      interval: 300
      # èŠ‚ç‚¹è¶…æ—¶å»¶è¿Ÿï¼Œå•ä½ä¸ºæ¯«ç§’
      timeout: 5000
      # èŠ‚ç‚¹è‡ªåŠ¨åˆ‡æ¢å·®å€¼ï¼Œå•ä½ä¸ºæ¯«ç§’
      tolerance: 500
  # è®¢é˜…2:
  #   type: http
  #   path: ./profiles/proxies/dingyue2.yaml
  #   url: "https://flynb.site/sub?token=oLKUUBC7cJPmouRzlnw2bg&tag=clash"
  #   interval: 43200
  #   health-check:
  #     enable: true
  #     url: http://www.gstatic.com/generate_204
  #     interval: 300
  #     timeout: 5000
  #     tolerance: 500
  # è®¢é˜…1:
  #   type: http
  #   path: ./profiles/proxies/dingyue1.yaml
  #   url: "https://ts.xship.top/v1/subscribe?starlink=mSIusSz2Ku3YUWxB85cQa"
  #   interval: 43200
  #   health-check:
  #     enable: true
  #     url: http://www.gstatic.com/generate_204
  #     interval: 300
  #     timeout: 5000
  #     tolerance: 500
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - â˜‘ï¸ æ‰‹åŠ¨åˆ‡æ¢
      - âš–ï¸ è´Ÿè½½å‡è¡¡
      - DIRECT
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - name: â˜‘ï¸ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    use: 
      - æˆ‘çš„è®¢é˜…
      # - è®¢é˜…1
      # - è®¢é˜…2
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.google.com/generate_204
    use:
      - æˆ‘çš„è®¢é˜…
      # - è®¢é˜…1
      # - è®¢é˜…2
    # url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 500
  - name: âš–ï¸ è´Ÿè½½å‡è¡¡
    type: load-balance
    url: http://www.google.com/generate_204
    interval: 300
    # strategy: round-robin #round-robin å°†ä¼šæŠŠæ‰€æœ‰çš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…ä¸åŒçš„ä»£ç†èŠ‚ç‚¹
    strategy: consistent-hashing #consistent-hashing å°†ç›¸åŒçš„ ç›®æ ‡åœ°å€ çš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…çš„åŒä¸€ä¸ªä»£ç†èŠ‚ç‚¹
    # strategy: sticky-sessions #sticky-sessions: å°†ç›¸åŒçš„ æ¥æºåœ°å€ å’Œ ç›®æ ‡åœ°å€ çš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…çš„åŒä¸€ä¸ªä»£ç†èŠ‚ç‚¹ï¼Œç¼“å­˜ 10 åˆ†é’Ÿè¿‡æœŸ
    use:
      - æˆ‘çš„è®¢é˜…
      # - è®¢é˜…1
      # - è®¢é˜…2
    # filter: "(?i)(.*-2\.|-3\.|-4\.|-5\.|-6\.)"
    filter: "(?i)(.*-2.|-3.|-4.|-5.|-6.)"
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
  - name: ğŸ›‘ å…¨çƒæ‹¦æˆª
    type: select
    proxies:
      - REJECT
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - â˜‘ï¸ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
  # - proxy-groups.èŠ‚ç‚¹åå­—.proxies.0+DIRECT # å‘æŒ‡å®šåˆ†ç»„ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ ä¸€ä¸ª DIRECT èŠ‚ç‚¹å
  # ä¸€äº›å¯èƒ½ç”¨åˆ°çš„æ­£åˆ™è¿‡æ»¤èŠ‚ç‚¹ç¤ºä¾‹ï¼Œä½¿åˆ†ç»„æ›´ç»†è‡´
  # []proxyNames|a                         # åŒ…å«a
  # []proxyNames|^(.*)(a|b)+(.*)$          # åŒ…å«aæˆ–b
  # []proxyNames|^(?=.*a)(?=.*b).*$        # åŒ…å«aå’Œb
  # []proxyNames|^((?!b).)*a((?!b).)*$     # åŒ…å«aä¸”ä¸åŒ…å«b
  # []proxyNames|^((?!b|c).)*a((?!b|c).)*$ # åŒ…å«aä¸”ä¸åŒ…å«bæˆ–c
  # æ›´å¤šæ­£åˆ™æ•™ç¨‹ï¼Œè¯·çœ‹è¿™é‡Œï¼šhttps://deerchao.cn/tutorials/regex/regex.htm#top
  # æ·»åŠ è§„åˆ™é›†
    # DOMAIN-SUFFIXï¼šåŸŸååç¼€åŒ¹é…ã€‚å®ƒä¼šæ£€æŸ¥ä¸€ä¸ªå®Œæ•´çš„åŸŸåï¼Œå¹¶æŸ¥çœ‹æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾ã€‚
    # DOMAINï¼šåŒ¹é…å®Œæ•´åŸŸå
    # DOMAIN-KEYWORDï¼šåŸŸåå…³é”®å­—åŒ¹é…
    # IP-CIDRï¼šIPæ®µåŒ¹é…
    # SRC-IP-CIDRï¼šæºIPæ®µåŒ¹é…
    # GEOIPï¼šGEOIPæ•°æ®åº“ï¼ˆå›½å®¶ä»£ç ï¼‰åŒ¹é…
    # DST-PORTï¼šç›®æ ‡ç«¯å£åŒ¹é…
    # SRC-PORTï¼šæºç«¯å£åŒ¹é…
    # PROCESS-NAMEï¼šæºè¿›ç¨‹ååŒ¹é…
    # RULE-SETï¼šRule Providerè§„åˆ™åŒ¹é…
    # MATCHï¼šå…¨åŒ¹é…
rules:
  # - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,DIRECT,no-resolve
  - DOMAIN,apac2.8d5fff6dafa213ef6b9210db39c5f56e.r2.cloudflarestorage.com,DIRECT,no-resolve
  - DOMAIN-SUFFIX,skyearth.xyz,DIRECT,no-resolve
  - DOMAIN-KEYWORD,microsoft,DIRECT,no-resolve
  - DOMAIN-SUFFIX,vip8.3sybf.com:443,DIRECT
  - DOMAIN-SUFFIX,surrit.com,DIRECT
  - DOMAIN-SUFFIX,sixyik.com,DIRECT
  - DOMAIN-SUFFIX,javxxx.me,DIRECT
  - DOMAIN-SUFFIX,fapnfuck.com,DIRECT
  - DOMAIN-SUFFIX,cdnstatic.jappornxl.com,DIRECT
  - DOMAIN-SUFFIX,ap-drop-monst.mushroomtrack.com,DIRECT
  - DOMAIN-SUFFIX,googleapis.cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,xn--ngstr-cn-8za9o.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  
  - RULE-SET,applications,DIRECT
  - DOMAIN,clash.razord.top,DIRECT
  - DOMAIN,yacd.haishan.me,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,reject,REJECT
  - RULE-SET,icloud,DIRECT #
  - RULE-SET,apple,DIRECT # è¿™ä¸‰ä¸ªä¸ºå›½å†…å¯ç›´è¿åœ°å€ï¼Œå¦‚æœå¸Œæœ›èµ°ä»£ç†æ”¹ä¸ºğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,google,DIRECT #
  - RULE-SET,tld-not-cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,gfw,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,greatfire,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,telegramcidr,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,lancidr,DIRECT
  - RULE-SET,direct,DIRECT
  - RULE-SET,cncidr,DIRECT
  - GEOIP,LAN,DIRECT
  - GEOIP,CN,DIRECT
  - RULE-SET,proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼ # è§„åˆ™ä¹‹å¤–çš„

rule-providers:
  reject: # å¹¿å‘ŠåŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400
  icloud: # iCloud åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
    path: ./ruleset/icloud.yaml
    interval: 86400
  apple: # Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./ruleset/apple.yaml
    interval: 86400
  google: # Google åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./ruleset/google.yaml
    interval: 86400
  proxy: # ä»£ç†åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400
  direct: # ç›´è¿åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400
  private: # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400
  gfw: # GFWList åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/gfw.yaml
    interval: 86400
  greatfire: # GreatFire åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
    path: ./ruleset/greatfire.yaml
    interval: 86400
  tld-not-cn: # éä¸­å›½å¤§é™†ä½¿ç”¨çš„é¡¶çº§åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
    path: ./ruleset/tld-not-cn.yaml
    interval: 86400
  telegramcidr: # Telegram ä½¿ç”¨çš„ IP åœ°å€åˆ—è¡¨
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
    path: ./ruleset/telegramcidr.yaml
    interval: 86400
  cncidr: # ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400
  lancidr: # å±€åŸŸç½‘ IP åŠä¿ç•™ IP åœ°å€åˆ—è¡¨
     type: http
     behavior: ipcidr
     url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
     path: ./ruleset/lancidr.yaml
     interval: 86400
  applications: # éœ€è¦ç›´è¿çš„å¸¸è§è½¯ä»¶åˆ—è¡¨
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/applications.yaml
    interval: 86400
